(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{497:function(t,e,s){"use strict";s.r(e);var a=s(41),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),s("p",[t._v("其实搞定家里 iptv 融合已经很久了，但是一直有一个问题困扰我，就是 kodi 在播放回放的时候不能拖进度条，一拖进度条播放就崩溃。")]),t._v(" "),s("p",[t._v("后来我通过抓包发现每次拖动进度条时，发送给 rtsp 服务器的 npt 参数都是有问题的，但是一直不知道怎么解决。然后我又比较喜欢拖延，就这么将就着用了。直到前段时间我特别想看中央 9 的某个纪录片，不能快进就让我有点不开心了，就去 kodi iptv 插件的 github 仓库问作者怎么解决。经过作者的热心解答，我最终解决了这个问题。")]),t._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),s("p",[t._v("直接上一个示例吧：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('#KODIPROP:inputstream=inputstream.ffmpegdirect\n#EXTINF:0 tvg-id="1" tvg-name="CCTV1 HD" tvg-chno="1" tvg-logo="" group-title="央视" catchup="default" catchup-source="rtsp://回放链接&playseek={utc:YmdHMS}-{end:YmdHMS}", CCTV1 HD\nhttp://直播链接\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("其中最关键的就是 "),s("code",[t._v("#KODIPROP:inputstream=inputstream.ffmpegdirect")]),t._v(" ，因为默认情况下，iptv 插件调用的是 kodi 自己的 ffmpeg，这也是发送 npt 参数错误的罪魁祸首。我们加入了这个参数之后，就让 iptv 插件调用  "),s("code",[t._v("inputstream.ffmpegdirect")]),t._v("  插件的 ffmpeg 来播放源了。")]),t._v(" "),s("p",[t._v("这里一共有三种配置：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("#KODIPROP:inputstream=inputstream.rtmp\n#KODIPROP:inputstream=inputstream.ffmpeg\n#KODIPROP:inputstream=inputstream.ffmpegdirect\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("遇到播放源有问题的可以每一个配置都试一试。")])])}),[],!1,null,null,null);e.default=n.exports}}]);